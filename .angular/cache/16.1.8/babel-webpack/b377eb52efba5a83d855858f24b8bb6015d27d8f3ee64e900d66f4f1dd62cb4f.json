{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"minus\": a0,\n    \"plus\": a1\n  };\n};\nfunction AppComponent_li_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function AppComponent_li_24_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const transaction_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteTransaction(transaction_r5.id));\n    });\n    i0.ɵɵtext(6, \"x\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaction_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(7, _c0, transaction_r5.category === \"-\", transaction_r5.category === \"+\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", transaction_r5.text, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", transaction_r5.category, \"\", i0.ɵɵpipeBind2(4, 4, transaction_r5.amount, \"\\u20A6\"), \"\");\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.title = 'expense-tracker';\n      this.transactions = [];\n      this.localStorageTransactions = JSON.parse(localStorage.getItem('transactions'));\n    }\n    ngOnInit() {\n      this.transactions = localStorage.getItem('transactions') !== null ? this.localStorageTransactions : [];\n      this.updateData();\n    }\n    onSubmit(form) {\n      const transaction = form.value;\n      transaction.id = this.generateID();\n      this.transactions.push(transaction);\n      form.resetForm();\n      localStorage.setItem('transactions', JSON.stringify(this.transactions));\n      this.transactions = JSON.parse(localStorage.getItem('transactions')) !== null ? this.transactions : [];\n      this.updateData();\n    }\n    getTotalIncome() {\n      const incomeArray = this.transactions.filter(a => a.category === '+');\n      this.totalIncome = incomeArray.reduce((a, b) => a + b.amount, 0);\n    }\n    getTotalExpense() {\n      const expenseArray = this.transactions.filter(a => a.category === '-');\n      this.totalExpense = expenseArray.reduce((a, b) => a + b.amount, 0);\n    }\n    getTotalBalance() {\n      this.totalBalance = this.totalIncome - this.totalExpense;\n    }\n    generateID() {\n      return Math.floor(Math.random() * 100000000);\n    }\n    deleteTransaction(id) {\n      this.transactions = this.transactions.filter(transaction => transaction.id !== id);\n      localStorage.setItem('transactions', JSON.stringify(this.transactions));\n      this.updateData();\n    }\n    updateData() {\n      this.getTotalIncome();\n      this.getTotalExpense();\n      this.getTotalBalance();\n    }\n    static #_ = this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)();\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 47,\n      vars: 14,\n      consts: [[1, \"container\"], [\"id\", \"balance\"], [1, \"inc-exp-container\"], [\"id\", \"money-plus\", 1, \"money\", \"plus\"], [\"id\", \"money-minus\", 1, \"money\", \"minus\"], [\"id\", \"list\", 1, \"list\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngSubmit\"], [\"transactionForm\", \"ngForm\"], [1, \"form-control\"], [\"for\", \"text\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"text\", \"placeholder\", \"Enter text...\", \"required\", \"\"], [\"text\", \"ngModel\"], [\"for\", \"amount\"], [\"ngModel\", \"\", \"name\", \"category\"], [\"category\", \"ngModel\"], [\"value\", \"-\"], [\"value\", \"+\"], [\"type\", \"number\", \"ngModel\", \"\", \"name\", \"amount\", \"placeholder\", \"Enter amount...\", \"required\", \"\"], [\"amount\", \"ngModel\"], [1, \"btn\", 3, \"disabled\"], [3, \"ngClass\"], [1, \"delete-btn\", 3, \"click\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r8 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"Expense Tracker\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 0)(3, \"h4\");\n          i0.ɵɵtext(4, \"Your Balance\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"h1\", 1);\n          i0.ɵɵtext(6);\n          i0.ɵɵpipe(7, \"currency\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\")(10, \"h4\");\n          i0.ɵɵtext(11, \"Income\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"p\", 3);\n          i0.ɵɵtext(13);\n          i0.ɵɵpipe(14, \"currency\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\")(16, \"h4\");\n          i0.ɵɵtext(17, \"Expense\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"p\", 4);\n          i0.ɵɵtext(19);\n          i0.ɵɵpipe(20, \"currency\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"h3\");\n          i0.ɵɵtext(22, \"History\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"ul\", 5);\n          i0.ɵɵtemplate(24, AppComponent_li_24_Template, 7, 10, \"li\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"h3\");\n          i0.ɵɵtext(26, \"Add new transaction\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"form\", 7, 8);\n          i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_27_listener() {\n            i0.ɵɵrestoreView(_r8);\n            const _r1 = i0.ɵɵreference(28);\n            return i0.ɵɵresetView(ctx.onSubmit(_r1));\n          });\n          i0.ɵɵelementStart(29, \"div\", 9)(30, \"label\", 10);\n          i0.ɵɵtext(31, \"Text\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(32, \"input\", 11, 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"div\", 9)(35, \"label\", 13);\n          i0.ɵɵtext(36, \"Amount\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"select\", 14, 15)(39, \"option\", 16);\n          i0.ɵɵtext(40, \"Expense\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"option\", 17);\n          i0.ɵɵtext(42, \"Income\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(43, \"input\", 18, 19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"button\", 20);\n          i0.ɵɵtext(46, \"Add transaction\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(28);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, ctx.totalBalance, \"\\u20A6\"));\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate1(\"+\", i0.ɵɵpipeBind2(14, 8, ctx.totalIncome, \"\\u20A6\"), \"\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"-\", i0.ɵɵpipeBind2(20, 11, ctx.totalExpense, \"\\u20A6\"), \"\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.transactions);\n          i0.ɵɵadvance(21);\n          i0.ɵɵproperty(\"disabled\", _r1.invalid);\n        }\n      },\n      dependencies: [i1.NgClass, i1.NgForOf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.NgModel, i2.NgForm, i1.CurrencyPipe]\n    });\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}